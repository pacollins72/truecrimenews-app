<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>True Crime News</title>
<style>
body { font-family: Arial, sans-serif; margin: 2rem; }
h1 { color: darkred; }
.story { margin-bottom: 1.5rem; }
.time { font-size: 0.9em; colour: grey; }
</style>
</head>
<body>
<h1>Latest True Crime Stories</h1>
<div id="stories">Loadingâ€¦</div>

<script>
async function loadStories() {
    const res = await fetch('http://localhost:4000/api/news');
    const data = await res.json();

    const container = document.getElementById('stories');
    container.innerHTML = '';

    if (!data.length) {
        container.innerHTML = '<p>No stories yet.</p>';
        return;
    }

    data.forEach(story => {
        const div = document.createElement('div');
        div.className = 'story';
        div.innerHTML = `
            <p>${story.summary.replace(/\n/g, '<br>')}</p>
            <div class="time">${new Date(story.timestamp).toLocaleString()}</div>
        `;
        container.appendChild(div);
    });
}

loadStories();
</script>
</body>
</html>